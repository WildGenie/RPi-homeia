<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Have fun with GPIO !</h3>
  </div>
  <div class="panel-body">
	<form role="form" class="form-inline">
		<div class="form-group">
			<select id="wiringPiPin" class="form-control">
			<option value="" selected disabled>WiringPi pin</option>
			{% for pin in wiring_pin_list %}
				<option value="{{ pin }}">{{ pin }}</option>
			{% endfor %}
			</select>
		</div>
		<div class="form-group">
			<select id="wiringPiState" class="form-control">
			<option value="" selected disabled>Outpute state</option>
			{% for state in wiring_pin_states %}
				<option value="{{ state.value }}">{{ state.label }}</option>
			{% endfor %}
			</select>
		</div>
		<input type="button" name="go" value="Go!" class="btn btn-primary" onClick="digitalWrite()">

		<script type="text/javascript">
		
		function digitalWrite()
		{
			var wiringPiPin = document.getElementById("wiringPiPin").value;
		  	var wiringPiState = document.getElementById("wiringPiState").value;
			if ( wiringPiPin && wiringPiState ){
		  		window.location='{{ url_for('playground') }}/wiring/'+ wiringPiPin +'/'+ wiringPiState;
			}
			else {
				alert('wrong parameters');
			}
		}

		// jQuery style
		/*
		    $(function(){
		      // bind change event to select
		      $('#dynamic_select').bind('change', function () {
		          var url = $(this).val(); // get selected value
		          if (url) { // require a URL
		              window.location = url; // redirect
		          }
		          return false;
		      });
		    });
		*/

		</script>
	</form>
  </div>
 </div>